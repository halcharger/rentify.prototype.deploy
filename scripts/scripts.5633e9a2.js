"use strict";var app=angular.module("rentify",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]);app.config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).when("/login",{templateUrl:"views/login.html",controller:"loginController"}).when("/signup",{templateUrl:"views/signup.html",controller:"signupController"}).otherwise({redirectTo:"/"})}]),app.factory("authService",[function(){var a={},b={isAuth:!1,userName:"John Doe"};return a.authentication=b,a}]),function(){function a(a,b,c){var d={};d.authentication=c.authentication,d.logOut=function(){console.log("logging out..."),d.authentication.isAuth=!1,b.path("/")},a.vm=d}app.controller("indexController",["$scope","$location","authService",a])}(),app.controller("loginController",["$scope","$location","authService",function(a,b,c){var d={};d.login=function(){console.log("logging in"),c.authentication.isAuth=!0,b.path("/mysites")},a.vm=d}]),app.controller("signupController",["$scope","$location","authService",function(a,b,c){var d={};d.signUp=function(){c.authentication.isAuth=!0,b.path("/mysites")},a.vm=d}]),function(){function a(a,b,c,d){c.redirectToLoginIfNotAuthenticated();var e={};e.sites=[],e.message="",e.loadingSites=!0,e.getSites=function(){e.loadingSites=!0,d.getMySites().then(function(a){e.sites=a,e.loadingSites=!1},function(a,b,c,d){console.log("Getting MySites failed: ",a,b,d),e.message="Getting My Sites failed. "+(a.message?a.message:""),e.loadingSites=!1})},e.refreshSites=function(){return e.loadingSites=!0,d.refreshMySites().success(function(a){e.sites=a,e.loadingSites=!1}).error(function(){e.message="Refreshing My Sites failed.",e.loadingSites=!1})},e.deleteSite=function(a){d.setSelectedSite(a),b.path("deletesite")},e.editSite=function(a){d.setSelectedSite(a),b.path("editsite")},e.getSites(),a.vm=e}app.controller("mysitesController",["$scope","$location","authService","sitesService",a])}();